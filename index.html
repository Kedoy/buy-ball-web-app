<!DOCTYPE html>
<html>
<head>
    <title>–†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π –ë–∞–ª - –ë–∏–ª–µ—Ç—ã</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        .container { padding: 20px; max-width: 400px; margin: 0 auto; }
        .form-group { margin-bottom: 15px; }
        input, select { width: 100%; padding: 10px; margin: 5px 0; }
        .btn { background: #0088cc; color: white; padding: 12px; border: none; width: 100%; }
    </style>
</head>
<body>
    <div class="container">
        <h2>üéÑ –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤</h2>
        
        <form id="orderForm">
            <div class="form-group">
                <input type="text" name="name" placeholder="–ò–º—è" required>
            </div>
            <div class="form-group">
                <input type="text" name="lastname" placeholder="–§–∞–º–∏–ª–∏—è" required>
            </div>
            <div class="form-group">
                <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω +7..." required>
            </div>
            <div class="form-group">
                <select name="tickets" required>
                    <option value="">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤</option>
                    <option value="1">1 –±–∏–ª–µ—Ç</option>
                    <option value="2">2 –±–∏–ª–µ—Ç–∞</option>
                    <option value="3">3 –±–∏–ª–µ—Ç–∞</option>
                </select>
            </div>
            <button type="submit" class="btn">–ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç—ã</button>
        </form>
        
        <div id="result"></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const orderData = {
                name: formData.get('name'),
                lastname: formData.get('lastname'),
                phone: formData.get('phone'),
                tickets: formData.get('tickets'),
                telegram_id: tg.initDataUnsafe.user?.id,
                username: tg.initDataUnsafe.user?.username
            };

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç
            tg.sendData(JSON.stringify(orderData));
            tg.close();
        });
    </script>
</body>
</html>
